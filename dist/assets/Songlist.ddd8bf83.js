/* empty css             *//* empty css                   *//* empty css                  */import{_ as H,d as q,O as D,k as x,o as P,ao as F,P as I,a,t as s,b as g,U as C,u as d,F as k,v as B,x as v,s as N,$ as S,ai as T,e as h,a2 as V,y as b,w as L,l as R,ap as A,h as M,f as U}from"./index.69f64e29.js";import{_ as z}from"./CoverPlay.b672717a.js";import{u as $}from"./global.d1fb28d3.js";/* empty css                        */import"./IconPark.f27efd9e.js";import"./PlayOne.7f566db7.js";import"./Play.debfb153.js";import"./Headset.453fbf48.js";const G={class:"grid grid-flow-row grid-cols-8 2xl:grid-cols-12 gap-2.5"},O=["onClick"],j=q({__name:"PlaylistHot",emits:["catChange"],setup(E,{emit:_}){const u=D(),i=(t,o)=>{l.value=o,_("catChange",t)};let l=x(-1);const n=x();return P(async()=>{n.value=await F()}),I(()=>u.query.cat,t=>{if(console.log("hhh",u),n.value){const o=n.value.findIndex(e=>e.name===t);l.value=o}}),(t,o)=>(a(),s("div",G,[g("div",{class:C(["button-dc",{active:d(l)===-1}]),onClick:o[0]||(o[0]=e=>i("\u5168\u90E8",-1))}," \u5168\u90E8 ",2),(a(!0),s(k,null,B(n.value,(e,m)=>(a(),s("div",{key:e.id,class:C(["button-dc",{active:d(l)===m}]),onClick:c=>i(e.name,m)},v(e.name),11,O))),128))]))}});var J=H(j,[["__scopeId","data-v-763c99e6"]]);const K={class:"content"},Q={key:0,class:"py-5 text-xl"},W={class:"gap-5 grid grid-flow-row grid-cols-3 lg:grid-cols-7 2xl:grid-cols-7"},X=["onClick"],Y={class:"mt-2 text-xs text-main leading-5"},Z={class:"mt-2 text-xs text-main truncate text-dc"},tt={key:1,class:"py-10"},mt=q({__name:"Songlist",setup(E){const{loading:_}=N($()),{isLoading:u}=$(),i=x(),l=R(),n=D(),t=S({init:!1,loading:!1,limit:35,before:0,more:!1,cat:"\u5168\u90E8"}),o=c=>{t.cat=c,t.before=0,t.more=!1,e()},e=async()=>{var c;t.loading=!0,n.query.cat&&(t.cat=n.query.cat.toString());try{const{playlists:p,lasttime:f,more:y}=await A({limit:t.limit,before:t.before,cat:t.cat});t.before<=0?i.value=p:(c=i.value)==null||c.push(...p),t.init=!0,t.loading=!1,t.before=f,t.more=y}catch{}},m=()=>{e()};return P(async()=>{u(!0),await e(),u(!1)}),(c,p)=>{const f=M,y=T;return a(),s(k,null,[h(J,{onCatChange:o}),V((a(),s("div",K,[d(_)?b("",!0):(a(),s("div",Q,v(t.cat)+"\u6B4C\u5355",1)),g("div",W,[(a(!0),s(k,null,B(i.value,(r,w)=>(a(),s("div",{key:w,class:C({"item-1":w===0,cover:!0}),onClick:et=>d(l).push({name:"songlistDetail",query:{id:r.id}})},[h(z,{name:r.name,"pic-url":r.coverImgUrl,"play-count":r.playCount,"show-play-count":""},null,8,["name","pic-url","play-count"]),g("div",Y,v(r.name),1),g("div",Z,v(r.creator.nickname),1)],10,X))),128))]),t.more?(a(),s("div",tt,[h(f,{type:"text",class:"text-center w-full",onClick:m,loading:t.loading},{default:L(()=>[U("\u52A0\u8F7D\u66F4\u591A")]),_:1},8,["loading"])])):b("",!0)])),[[y,d(_)]])],64)}}});export{mt as default};
