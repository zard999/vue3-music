/* empty css             *//* empty css                   */import{e as a,_ as $,d as z,a as n,t as l,b as s,F as y,v as p,c as v,w as O,x as r,u as o,aw as Z,l as G,V as J,af as I,ag as j,j as K,ax as Q,ay as X,az as ee,aA as se,aB as te,aC as ie,au as oe,s as A,o as ne,a0 as ae,P as le,ai as re,a2 as S,a4 as ce,U as de,y as g,f as ue,O as _e,r as he}from"./index.69f64e29.js";import{A as me}from"./ArtistList.79affc79.js";/* empty css                        */import{M as ge}from"./MvList.bdfd166e.js";import{u as ve,S as fe}from"./SingerItem.b5883a8b.js";import{b as ke}from"./user.cca4b6e2.js";import{I as B,_ as ye}from"./IconPark.f27efd9e.js";import{u as C}from"./global.d1fb28d3.js";import"./Play.debfb153.js";import"./Like.da450144.js";import"./PauseOne.46a04f47.js";import"./PlayOne.7f566db7.js";var pe=B("female",!0,function(e){return a("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[a("g",{"clip-path":"url(#"+e.id+"9b01e87d)"},[a("path",{d:"M38.3785 9.85132C32.9112 4.38398 24.0468 4.38398 18.5795 9.85132C15.8458 12.585 14.479 16.1679 14.479 19.7508C14.479 23.3337 15.8458 26.9166 18.5795 29.6503C24.0468 35.1176 32.9112 35.1176 38.3785 29.6503C43.8458 24.183 43.8458 15.3187 38.3785 9.85132Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),a("path",{d:"M18.4642 29.5353L5.73633 42.2632",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),a("path",{d:"M19.1714 41.5562L6.44346 28.8282",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)]),a("defs",null,[a("clipPath",{id:e.id+"9b01e87d"},[a("rect",{width:"48",height:"48",fill:e.colors[2]},null)])])])}),L=B("male",!0,function(e){return a("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M41.9517 15.0483V6.04834H32.9517",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),a("path",{d:"M10.4135 38.0007C15.8808 43.4681 24.7451 43.4681 30.2125 38.0007C32.9462 35.2671 34.313 31.6841 34.313 28.1012C34.313 24.5183 32.9462 20.9354 30.2125 18.2017C24.7451 12.7344 15.8808 12.7344 10.4135 18.2017C4.94615 23.6691 4.94615 32.5334 10.4135 38.0007Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),a("path",{d:"M30.0002 17.9999L39.9517 8.04838",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const k=e=>(I("data-v-51e34dc2"),e=e(),j(),e),be={class:"album-box"},we={class:"album-list flex"},De=["onClick"],xe={class:"wrapper"},Ae={class:"cover"},Se={class:"image"},Ce=k(()=>s("div",{slot:"placeholder",class:"image-slot flex-center flex-column"},[s("i",{class:"iconfont niceicon-3"})],-1)),Le=k(()=>s("div",{slot:"error",class:"image-slot flex-center"},[s("i",{class:"el-icon-picture-outline"})],-1)),Me={class:"count"},$e=k(()=>s("i",{class:"arrow"},null,-1)),ze=k(()=>s("div",{class:"action"},[s("button",{class:"play flex-center",title:"\u64AD\u653E"},[s("i",{class:"iconfont nicebofang1"})])],-1)),Ie={class:"info"},je={class:"name ellipsis"},Be={class:"author"},Te={class:"time author"},Ve=z({__name:"AlbumList",props:{albums:null},setup(e){const t=G();function i(u){t.push({name:"albumDetail",query:{id:u}})}return(u,T)=>{const b=J;return n(),l("div",be,[s("ul",we,[(n(!0),l(y,null,p(e.albums,c=>(n(),l("li",{key:c.id,onClick:h=>i(c.id)},[s("div",xe,[s("div",Ae,[s("div",Se,[(n(),v(b,{key:c.picUrl+"?param=300y300",src:c.picUrl+"?param=300y300",lazy:""},{default:O(()=>[Ce,Le]),_:2},1032,["src"]))]),s("div",Me,[$e,s("span",null,r(c.subType||c.type),1)]),ze])]),s("div",Ie,[s("div",je,r(c.name),1),s("div",Be,r(c.artist.name),1),s("div",Te,r(o(Z)(c.publishTime,"YYYY-MM-DD")),1)])],8,De))),128))])])}}});var Fe=$(Ve,[["__scopeId","data-v-51e34dc2"]]);const M=K({id:"singerDetail",state:()=>({singerDetail:{},userDetail:{level:0,followeds:0,gender:0},singerDesc:{},songs:Array(),albums:Array(),singers:Array(),mvs:Array(),singerId:0,navList:[{name:"\u4F5C\u54C1",id:1},{name:"\u4E13\u8F91",id:2},{name:"MV",id:3},{name:"\u6B4C\u624B\u8BE6\u60C5",id:4},{name:"\u76F8\u4F3C\u6B4C\u624B",id:5}],active:1,limit:20,offset:0,isPerson:!0}),actions:{reset(){this.singerDetail={},this.userDetail={level:0,followeds:0,gender:0},this.singerDesc={},this.songs=Array(),this.albums=Array(),this.singers=Array(),this.mvs=Array()},tabItem(e){this.active=e},async getArtists(e){try{let t=await Q(e);this.singerDetail=t.artist,this.getUserDetail(t.artist.accountId),this.songs=this._normalizeSongs(t.hotSongs),this.getArtistAlbum(e),this.getArtistMv(e)}catch(t){console.log(t)}},async getUserDetail(e){let t={level:0,followeds:0,gender:0};try{let i=await ke(e),u=i.profile;t.level=i.level,t.followeds=u.followeds,t.gender=u.gender,this.userDetail=t}catch{t.level=0,t.followeds=0,t.gender=0,this.userDetail=t}},async getArtistAlbum(e){let t={id:this.singerId||e,limit:this.detail.albumSize,offset:this.offset};try{let i=await X(t);this.albums=i.hotAlbums}catch(i){console.log(i)}},async getArtistMv(e){let t={id:this.singerId||e,limit:this.detail.mvSize,offset:this.offset};try{let i=await ee(t);this.mvs=this._normalizeVideos(i.mvs)}catch(i){console.log(i)}},async getArtistDesc(e){try{let t=await se(e);t.introduction.length>0&&t.introduction.map(i=>{i.txt=i.txt.replace(/(\r\n|\n|\r)/gm,"<br />")}),this.singerDesc=t}catch(t){console.log(t)}},async getArtistSimi(e){try{let t=await te(e);this.singers=t}catch(t){console.log(t)}},_normalizeSongs(e){let t=[];return e.map(i=>{i.id&&t.push(ie(i))}),t},_normalizeVideos(e){let t=[];return e.map(i=>{i.id&&t.push(oe({id:i.id,nickName:i.artistName,name:i.name,playCount:i.playCount,duration:i.duration,image:i.imgurl16v9}))}),t},initData(){this.singerDetail={},this.userDetail={level:0,followeds:0,gender:0},this.singerDesc={}},async _initialize(e){this.active=1,this.albums=Array(),this.mvs=[],this.singerId=Number(e),await this.getArtists(e),this.getUserDetail(e),this.getArtistDesc(e),this.getArtistSimi(e)}},getters:{detail:e=>Object.assign(e.singerDetail,e.userDetail)}});const m=e=>(I("data-v-6e6c15e2"),e=e(),j(),e),Ee={class:"singer-detail"},Ne={class:"singer-info"},Ue={class:"top"},He={class:"top-mask"},We={class:"singer-box flex flex-col justify-center items-center"},Pe={class:"avatar transition"},Ye=["src"],qe={class:"nickname flex items-center"},Re={class:"xh px-2"},Oe=m(()=>s("div",{class:"follow flex-center transition"},[s("i",{class:"iconfont niceIcon_add"}),ue(" \u5173\u6CE8TA ")],-1)),Ze=["innerHTML"],Ge={class:"info flex justify-center"},Je={class:"num"},Ke=m(()=>s("p",{class:"text"},"\u5355\u66F2\u6570",-1)),Qe={class:"num"},Xe=m(()=>s("p",{class:"text"},"\u4E13\u8F91\u6570",-1)),es={class:"num"},ss=m(()=>s("p",{class:"text"},"MV\u6570",-1)),ts={class:"num"},is=m(()=>s("p",{class:"text"},"\u7C89\u4E1D",-1)),os=m(()=>s("div",{class:"bottom-trangle"},null,-1)),ns={class:"bottom container"},as={class:"nav flex justify-center"},ls=["onClick"],rs={class:"content"},cs={key:3,class:"info-box"},ds={class:"title"},us=["innerHTML"],_s={class:"introduction"},hs={class:"sub-title"},ms=["innerHTML"],gs={key:4,class:"simi-box"},vs={key:0,class:"singer-list"},fs=z({__name:"SingerDetail",setup(e){const{loading:t}=A(C()),{isLoading:i}=C(),u=_e(),{singerDetail:T,userDetail:b,navList:c,active:h,songs:V,isPerson:F,albums:E,mvs:N,singerDesc:w,singers:D,detail:d}=A(M()),{_initialize:U,tabItem:H,reset:W}=M(),{singer:P}=ve(),x=async()=>{let f=Number(u.query.id)||P.id;f&&(i(!0),await U(f),i(!1))};ne(()=>{W(),x()});const Y=ae(()=>d.value.gender>0?d.value.gender===1?L:pe:L);return le(()=>u.query.id,f=>{x()}),(f,ks)=>{const q=he("nice-empty"),R=re;return n(),l("div",Ee,[s("div",Ne,[s("div",Ue,[s("div",He,[s("div",We,[s("div",Pe,[s("img",{src:o(d).img1v1Url+"?param=200y200"},null,8,Ye)]),s("p",qe,[s("div",Re,r(o(d).name),1),a(ye,{icon:o(Y),size:"18","stroke-width":3},null,8,["icon"])]),Oe,s("div",{class:"desc ellipsis-two",innerHTML:o(d).briefDesc},null,8,Ze),s("ul",Ge,[s("li",null,[s("p",Je,r(o(d).musicSize),1),Ke]),s("li",null,[s("p",Qe,r(o(d).albumSize),1),Xe]),s("li",null,[s("p",es,r(o(d).mvSize),1),ss]),S(s("li",null,[s("p",ts,r(o(d).followeds),1),is],512),[[ce,o(d).followeds]])])])]),os]),s("div",ns,[s("ul",as,[(n(!0),l(y,null,p(o(c),_=>(n(),l("li",{key:_.id,class:de(o(h)==_.id?"active":""),onClick:ys=>o(H)(_.id)},r(_.name),11,ls))),128))]),S((n(),l("div",rs,[o(h)==1?(n(),v(me,{key:0,subscribed:!1,songs:o(V),isPerson:o(F)},null,8,["songs","isPerson"])):g("",!0),o(h)==2?(n(),v(Fe,{key:1,albums:o(E)},null,8,["albums"])):g("",!0),o(h)==3?(n(),v(ge,{key:2,mvs:o(N),type:"mv"},null,8,["mvs"])):g("",!0),o(h)==4?(n(),l("div",cs,[s("h2",ds,r(o(d).name)+"\u7B80\u4ECB",1),s("div",{class:"profile",innerHTML:o(w).briefDesc},null,8,us),s("div",_s,[(n(!0),l(y,null,p(o(w).introduction,_=>(n(),l("div",{class:"item",key:_.ti},[s("h3",hs,r(_.ti),1),s("p",{innerHTML:_.txt},null,8,ms)]))),128))])])):g("",!0),o(h)==5?(n(),l("div",gs,[o(D).length>0?(n(),l("div",vs,[a(fe,{hotSinger:o(D)},null,8,["hotSinger"])])):(n(),v(q,{key:1}))])):g("",!0)])),[[R,o(t)]])])])])}}});var Bs=$(fs,[["__scopeId","data-v-6e6c15e2"]]);export{Bs as default};
