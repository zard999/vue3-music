/* empty css             *//* empty css                  */import{j as L,at as x,au as V,av as S,_ as w,d as D,s as h,o as N,a as l,t as o,b as i,F as n,v as c,U as d,u as s,x as v,e as p,w as T,h as z,f as $}from"./index.69f64e29.js";import{M as j}from"./MvList.bdfd166e.js";import{u as f}from"./global.d1fb28d3.js";/* empty css                        */import"./IconPark.f27efd9e.js";import"./PlayOne.7f566db7.js";const m=L({id:"mvideo",state:()=>({area:"\u5168\u90E8",areaList:[{value:"\u5168\u90E8",label:"\u5168\u90E8"},{value:"\u5185\u5730",label:"\u5185\u5730"},{value:"\u6E2F\u53F0",label:"\u6E2F\u53F0"},{value:"\u6B27\u7F8E",label:"\u6B27\u7F8E"},{value:"\u65E5\u672C",label:"\u65E5\u672C"},{value:"\u97E9\u56FD",label:"\u97E9\u56FD"}],classify:"\u5168\u90E8",classifys:[{value:"\u5168\u90E8",label:"\u5168\u90E8"},{value:"\u5B98\u65B9\u7248",label:"\u5B98\u65B9\u7248"},{value:"\u539F\u751F",label:"\u539F\u751F"},{value:"\u73B0\u573A\u7248",label:"\u73B0\u573A\u7248"},{value:"\u7F51\u6613\u51FA\u54C1",label:"\u7F51\u6613\u51FA\u54C1"}],sort:"\u4E0A\u5347\u6700\u5FEB",sortList:[{value:"\u4E0A\u5347\u6700\u5FEB",label:"\u4E0A\u5347"},{value:"\u6700\u70ED",label:"\u6700\u70ED"},{value:"\u6700\u65B0",label:"\u6700\u65B0"}],params:{limit:12,offset:0,type:"\u5168\u90E8",area:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB"},mvs:Array(),videoLoading:!1,loadStatus:!0,en:""}),actions:{chooseType(u,e){u=="area"?(this.area=e,this.params.area=e):u=="classify"?(this.classify=e,this.params.type=e):u=="sort"&&(this.sort=e,this.en=e,this.params.order=e),this.params.offset=0,this.loadStatus=!0,this.mvs=[],this.getMvAll()},async getMvAll(){try{this.videoLoading=!0;let u=await x(this.params);console.log(u),this.mvs=[...this.mvs,...this._normalizeVideos(u.data)],u.hasMore?this.params.offset+=12:this.loadStatus=!1,this.videoLoading=!1}catch{}},_normalizeVideos(u){let e=Array();return u.map(t=>{t.id&&e.push(V({id:t.id,nickName:t.artistName,name:t.name,playCount:t.playCount,duration:t.duration,image:t.cover}))}),e},load(){this.loadStatus?this.getMvAll():S.error("\u6CA1\u6709\u66F4\u591A\u4E86\uFF01\uFF01")}},getters:{}});const G={class:"mv-wrap container"},I={class:"filter"},R={class:"tag-lang"},U=["onClick"],q={class:"tag-lang tag-type"},H=["onClick"],J={class:"tag-lang"},K=["onClick"],O={class:"py-10"},P=D({__name:"MVideo",setup(u){h(f());const{isLoading:e}=f(),{areaList:t,area:E,classifys:F,classify:y,sortList:g,sort:b,mvs:A,videoLoading:C}=h(m()),{getMvAll:B,chooseType:r,load:k}=m();return N(async()=>{e(!0),await B(),e(!1)}),(Q,W)=>{const M=z;return l(),o("div",G,[i("div",I,[i("ul",R,[(l(!0),o(n,null,c(s(t),a=>(l(),o("li",{key:a.value,class:d(s(E)==a.value?"active":""),onClick:_=>s(r)("area",a.value)},v(a.label),11,U))),128))]),i("ul",q,[(l(!0),o(n,null,c(s(F),a=>(l(),o("li",{key:a.value,class:d(s(y)==a.value?"active":""),onClick:_=>s(r)("classify",a.value)},v(a.label),11,H))),128))]),i("ul",J,[(l(!0),o(n,null,c(s(g),a=>(l(),o("li",{key:a.value,class:d(s(b)==a.value?"active":""),onClick:_=>s(r)("sort",a.value)},v(a.label),11,K))),128))])]),p(j,{mvs:s(A),type:"mv"},null,8,["mvs"]),i("div",O,[p(M,{type:"text",class:"text-center w-full",loading:s(C),onClick:s(k)},{default:T(()=>[$("\u52A0\u8F7D\u66F4\u591A")]),_:1},8,["loading","onClick"])])])}}});var la=w(P,[["__scopeId","data-v-64cab821"]]);export{la as default};
